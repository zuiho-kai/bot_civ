# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢ä½ å¯¹ OpenClaw ç¤¾åŒºé¡¹ç›®çš„å…´è¶£ï¼è¿™æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„ AI ç¤¾ä¼šæ¨¡æ‹Ÿé¡¹ç›®ï¼Œæˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ã€‚

## ğŸŒŸ ä¸ºä»€ä¹ˆå‚ä¸è¿™ä¸ªé¡¹ç›®ï¼Ÿ

- **å‰æ²¿æ¢ç´¢**: æ¢ç´¢ AI Agent ç¤¾ä¼šæ¨¡æ‹Ÿçš„å¯èƒ½æ€§
- **æŠ€æœ¯æŒ‘æˆ˜**: æ¶‰åŠ LLMã€å‘é‡æ•°æ®åº“ã€å®æ—¶é€šä¿¡ã€ç»æµç³»ç»Ÿç­‰å¤šä¸ªæŠ€æœ¯é¢†åŸŸ
- **å¼€æ”¾åä½œ**: é‡‡ç”¨ AI è¾…åŠ©å¼€å‘æ¨¡å¼ï¼Œäººç±» + AI åä½œ
- **æœ‰è¶£**: çœ‹ç€ AI åƒäººç±»ä¸€æ ·ç”Ÿæ´»ã€å·¥ä½œã€ç¤¾äº¤ï¼Œæœ¬èº«å°±å¾ˆæœ‰è¶£

## ğŸ¯ å‚ä¸æ–¹å¼

### 1. ä»£ç è´¡çŒ®

#### å‰ç«¯å¼€å‘
**æŠ€èƒ½è¦æ±‚**: React, TypeScript, WebSocket, CSS

**å¯ä»¥åšçš„äº‹æƒ…**:
- ğŸ¨ ä¼˜åŒ–ç°æœ‰ UI ç»„ä»¶
- ğŸ“Š ç»æµæ•°æ®å¯è§†åŒ–ï¼ˆå›¾è¡¨ï¼‰
- ğŸ—ºï¸ 2D åœ°å›¾å¯è§†åŒ–ï¼ˆPixiJSï¼‰
- ğŸ¨ å¼•å…¥å‰ç«¯ç»„ä»¶åº“ï¼ˆshadcn/ui æˆ– Radix UIï¼‰
- ğŸ”„ WebSocket æ–­çº¿è‡ªåŠ¨é‡è¿

**å…¥é—¨ä»»åŠ¡**:
- ä¼˜åŒ– Agent å¡ç‰‡æ ·å¼
- æ·»åŠ æ¶ˆæ¯æ—¶é—´æˆ³æ˜¾ç¤º
- å®ç°æ¶ˆæ¯æœç´¢åŠŸèƒ½

#### åç«¯å¼€å‘
**æŠ€èƒ½è¦æ±‚**: Python, FastAPI, SQLite, LLM API

**å¯ä»¥åšçš„äº‹æƒ…**:
- ğŸ”§ M6 Agent CLI è¿è¡Œæ—¶ï¼ˆæŒä¹…è¿›ç¨‹ + ä¸Šç½‘ + å·¥å…·æ‰©å±•ï¼‰
- ğŸ”§ ä¿®å¤æŠ€æœ¯å€ºåŠ¡ï¼ˆåˆ†é¡µã€æ–­çº¿é‡è¿ç­‰ï¼‰
- ğŸ“Š ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½
- ğŸ§ª è¡¥å……æµ‹è¯•è¦†ç›–
- ğŸ³ Docker ç”Ÿäº§çº§é…ç½®

**å…¥é—¨ä»»åŠ¡**:
- æ·»åŠ  Agent CRUD åˆ†é¡µåŠŸèƒ½
- å®ç° GET /api/messages å¢é‡æ‹‰å–
- ä¼˜åŒ– WebSocket å¿ƒè·³æœºåˆ¶

#### æµ‹è¯•
**æŠ€èƒ½è¦æ±‚**: pytest, æµ‹è¯•æ€ç»´

**å¯ä»¥åšçš„äº‹æƒ…**:
- âœ… ç¼–å†™å•å…ƒæµ‹è¯•
- ğŸ”— ç¼–å†™é›†æˆæµ‹è¯•
- ğŸ­ è¡¥å……ç«¯åˆ°ç«¯æµ‹è¯•åœºæ™¯
- ğŸ› å‘ç°å¹¶æŠ¥å‘Š bug
- ğŸ“Š æ€§èƒ½æµ‹è¯•å’Œå‹åŠ›æµ‹è¯•

**å…¥é—¨ä»»åŠ¡**:
- ä¸ºç°æœ‰åŠŸèƒ½è¡¥å……æµ‹è¯•ç”¨ä¾‹
- ç¼–å†™è¾¹ç•Œæ¡ä»¶æµ‹è¯•
- æ€§èƒ½æµ‹è¯•

### 2. è®¾è®¡è´¡çŒ®

#### æ¸¸æˆè®¾è®¡
**å¯ä»¥åšçš„äº‹æƒ…**:
- ğŸ® è®¾è®¡å·¥ä½œå²—ä½å’Œæ”¶å…¥ä½“ç³»
- ğŸ’° å¹³è¡¡ç»æµç³»ç»Ÿï¼ˆä¿¡ç”¨ç‚¹å®šä»·ã€é€šèƒ€æ§åˆ¶ï¼‰
- ğŸ¯ è®¾è®¡æ‚¬èµä»»åŠ¡ç±»å‹
- ğŸ™ï¸ è®¾è®¡åŸå¸‚æ¨¡æ‹Ÿç©æ³•

#### UI/UX è®¾è®¡
**å¯ä»¥åšçš„äº‹æƒ…**:
- ğŸ¨ è®¾è®¡ UI åŸå‹ï¼ˆFigmaï¼‰
- ğŸ–¼ï¸ è®¾è®¡å›¾æ ‡å’Œæ’ç”»
- ğŸ“± ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ

### 3. æ–‡æ¡£è´¡çŒ®

**å¯ä»¥åšçš„äº‹æƒ…**:
- ğŸ“ å®Œå–„ API æ–‡æ¡£
- ğŸ“– ç¼–å†™ä½¿ç”¨æ•™ç¨‹
- ğŸŒ ç¿»è¯‘æ–‡æ¡£ï¼ˆè‹±æ–‡ï¼‰
- ğŸ“Š ç¼–å†™æ¶æ„åˆ†ææ–‡æ¡£

**å…¥é—¨ä»»åŠ¡**:
- è¡¥å…… API æ¥å£ç¤ºä¾‹
- ç¼–å†™å¿«é€Ÿå¼€å§‹æŒ‡å—
- æ•´ç†å¸¸è§é—®é¢˜ FAQ

### 4. æ•°æ®åˆ†æ

**å¯ä»¥åšçš„äº‹æƒ…**:
- ğŸ“Š åˆ†æ AI è¡Œä¸ºæ¨¡å¼
- ğŸ’° åˆ†æç»æµç³»ç»Ÿå¹³è¡¡æ€§
- ğŸ§  åˆ†æè®°å¿†ç³»ç»Ÿæ•ˆæœ
- ğŸ“ˆ å¯è§†åŒ–é¡¹ç›®æ•°æ®

## ğŸš€ å¼€å§‹è´¡çŒ®

### 1. ç¯å¢ƒæ­å»º

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/zuiho-kai/bot_civ.git
cd bot_civ

# åç«¯ç¯å¢ƒ
cd server
pip install -r requirements.txt
cp .env.example .env
# ç¼–è¾‘ .env å¡«å†™ API keys

# å‰ç«¯ç¯å¢ƒ
cd ../web
npm install

# è¿è¡Œæµ‹è¯•
cd ../server
pytest tests/ -v
```

### 2. äº†è§£é¡¹ç›®

**å¿…è¯»æ–‡æ¡£**:
- [README.md](README.md) - é¡¹ç›®æ¦‚è§ˆ
- [PRD.md](docs/PRD.md) - äº§å“éœ€æ±‚
- [ROADMAP.md](ROADMAP.md) - å¼€å‘è·¯çº¿å›¾
- [TDD-M2](docs/specs/SPEC-001-èŠå¤©åŠŸèƒ½/TDD-M2-è®°å¿†ä¸ç»æµ.md) - å½“å‰é˜¶æ®µæŠ€æœ¯è®¾è®¡

**æ¨èé˜…è¯»**:
- [è®¨è®ºè®°å½•](docs/discussions.md) - è®¾è®¡å†³ç­–è¿‡ç¨‹
- [API å¥‘çº¦](docs/api-contract.md) - å‰åç«¯æ¥å£è§„èŒƒ

### 3. é€‰æ‹©ä»»åŠ¡

æŸ¥çœ‹ [ROADMAP.md](ROADMAP.md) æ‰¾åˆ°æ„Ÿå…´è¶£çš„åŠŸèƒ½ï¼š
- âœ… å·²å®Œæˆ - å¯ä»¥ä¼˜åŒ–æˆ–é‡æ„
- ğŸš§ è¿›è¡Œä¸­ - å¯ä»¥ååŠ©å®Œæˆ
- ğŸ“‹ å¾…å¼€å§‹ - å¯ä»¥è®¤é¢†å¼€å‘

### 4. æäº¤ä»£ç 

```bash
# åˆ›å»ºåˆ†æ”¯
git checkout -b feature/your-feature-name

# å¼€å‘ + æµ‹è¯•
# ...

# æäº¤
git add .
git commit -m "feat: your feature description"
git push origin feature/your-feature-name

# åˆ›å»º Pull Request
```

## ğŸ“‹ ä»£ç è§„èŒƒ

### Python (åç«¯)

```python
# ä½¿ç”¨ type hints
async def save_memory(
    self,
    agent_id: int,
    content: str,
    memory_type: str,
    db: AsyncSession
) -> Memory:
    pass

# ä½¿ç”¨ docstring
def search_memories(query: str, agent_id: int, top_k: int = 5):
    """æœç´¢è¯¥ agent çš„ä¸ªäººè®°å¿† + å…¬å…±è®°å¿†

    Args:
        query: æœç´¢æŸ¥è¯¢
        agent_id: Agent ID
        top_k: è¿”å›ç»“æœæ•°é‡

    Returns:
        list: è®°å¿†åˆ—è¡¨
    """
    pass

# ä½¿ç”¨ async/await
async def handle_message(message: dict):
    result = await some_async_function()
    return result
```

### TypeScript (å‰ç«¯)

```typescript
// ä½¿ç”¨ TypeScript ç±»å‹
interface Agent {
  id: number;
  name: string;
  credits: number;
}

// ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶ + Hooks
const AgentCard: React.FC<{ agent: Agent }> = ({ agent }) => {
  const [expanded, setExpanded] = useState(false);

  return (
    <div className={styles.card}>
      {/* ... */}
    </div>
  );
};

// ä½¿ç”¨ CSS Modules
import styles from './AgentCard.module.css';
```

### æµ‹è¯•

```python
# æµ‹è¯•æ–‡ä»¶å‘½å: test_*.py
# æµ‹è¯•å‡½æ•°å‘½å: test_*

@pytest.mark.asyncio
async def test_economy_check_quota():
    """æµ‹è¯•é¢åº¦æ£€æŸ¥é€»è¾‘"""
    # Arrange
    agent = create_test_agent(credits=5, quota_used_today=10)

    # Act
    result = await economy_service.check_quota(agent.id, "chat", db)

    # Assert
    assert result.allowed == True
```

### Commit è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/):

```
feat: æ·»åŠ æ‚¬èµä»»åŠ¡é¡µé¢
fix: ä¿®å¤è®°å¿†æ£€ç´¢ bug
docs: æ›´æ–° API æ–‡æ¡£
test: æ·»åŠ ç»æµç³»ç»Ÿæµ‹è¯•
refactor: é‡æ„å”¤é†’å¼•æ“
perf: ä¼˜åŒ–å‘é‡æœç´¢æ€§èƒ½
chore: æ›´æ–°ä¾èµ–ç‰ˆæœ¬
```

## ğŸ¤– AI è¾…åŠ©å¼€å‘

æœ¬é¡¹ç›®é‡‡ç”¨ AI è¾…åŠ©å¼€å‘æ¨¡å¼ï¼ˆClaude Codeï¼‰ï¼š

- ğŸ“ æ‰€æœ‰è®¾è®¡è®¨è®ºè®°å½•åœ¨ `docs/discussions/`
- ğŸ“Š è¿›å±•è®°å½•åœ¨ `claude-progress.txt` å’Œ `server/progress.md`
- ğŸ¤ äººç±» + AI åä½œï¼ŒAI è´Ÿè´£å®ç°ï¼Œäººç±»è´Ÿè´£å†³ç­–

**å¦‚ä½•ä¸ AI åä½œ**:
1. åœ¨ `docs/discussions/` åˆ›å»ºè®¨è®ºæ–‡æ¡£
2. æè¿°éœ€æ±‚å’Œè®¾è®¡æ€è·¯
3. AI ä¼šåŸºäºè®¨è®ºå®ç°åŠŸèƒ½
4. äººç±» review ä»£ç å¹¶æå‡ºæ”¹è¿›

## ğŸ’¬ äº¤æµæ¸ é“

- **GitHub Issues**: æŠ¥å‘Š bugã€æå‡ºåŠŸèƒ½å»ºè®®
- **GitHub Discussions**: æŠ€æœ¯è®¨è®ºã€è®¾è®¡è®¨è®º
- **Pull Requests**: ä»£ç  reviewã€åŠŸèƒ½è®¨è®º

## ğŸ¯ å½“å‰ä¼˜å…ˆçº§

æ ¹æ® [ROADMAP.md](ROADMAP.md)ï¼Œå½“å‰ä¼˜å…ˆçº§ï¼š

**é«˜ä¼˜å…ˆçº§** (M6 Agent CLI è¿è¡Œæ—¶):
1. Agent æŒä¹…è¿›ç¨‹ï¼ˆåå°å¸¸é©»è¿è¡Œï¼‰
2. Agent ä¸Šç½‘èƒ½åŠ›
3. ä»»æ„å·¥å…·è°ƒç”¨æ‰©å±•

**ä¸­ä¼˜å…ˆçº§** (æŠ€æœ¯å€ºåŠ¡):
1. Agent CRUD åˆ†é¡µ
2. WebSocket æ–­çº¿é‡è¿
3. æ¶ˆæ¯å¢é‡æ‹‰å–ï¼ˆsince_idï¼‰
4. Docker Compose å®Œå–„ï¼ˆç”Ÿäº§çº§é…ç½®ï¼‰
5. å¼•å…¥å‰ç«¯ç»„ä»¶åº“ï¼ˆshadcn/ui æˆ– Radix UIï¼‰

**ä½ä¼˜å…ˆçº§** (æœªæ¥):
1. 2D åœ°å›¾å¯è§†åŒ–ï¼ˆPixiJS é›†æˆï¼‰
2. Agent è‡ªä¸»ç§»åŠ¨ç³»ç»Ÿ
3. ç¤¾äº¤ç½‘ç»œï¼ˆå…³ç³»å›¾è°±ã€å¥½å‹ç³»ç»Ÿï¼‰

## ğŸ“œ è¡Œä¸ºå‡†åˆ™

- ğŸ¤ å°Šé‡æ‰€æœ‰è´¡çŒ®è€…
- ğŸ’¬ å‹å¥½ã€å»ºè®¾æ€§çš„è®¨è®º
- ğŸ¯ ä¸“æ³¨äºé¡¹ç›®ç›®æ ‡
- ğŸ“ æ¸…æ™°çš„æ²Ÿé€š
- ğŸ§ª ä¿è¯ä»£ç è´¨é‡ï¼ˆæµ‹è¯• + reviewï¼‰

## â“ å¸¸è§é—®é¢˜

### Q: æˆ‘ä¸ç†Ÿæ‚‰ LLM APIï¼Œå¯ä»¥å‚ä¸å—ï¼Ÿ
A: å¯ä»¥ï¼å‰ç«¯å¼€å‘ã€æµ‹è¯•ã€æ–‡æ¡£ã€æ¸¸æˆè®¾è®¡éƒ½ä¸éœ€è¦ LLM çŸ¥è¯†ã€‚

### Q: æˆ‘åªèƒ½è´¡çŒ®ä¸€ç‚¹ç‚¹æ—¶é—´ï¼Œå¯ä»¥å—ï¼Ÿ
A: å½“ç„¶ï¼ä»»ä½•è´¡çŒ®éƒ½æ˜¯æœ‰ä»·å€¼çš„ï¼Œå“ªæ€•åªæ˜¯ä¿®å¤ä¸€ä¸ª typoã€‚

### Q: æˆ‘æœ‰ä¸ªæƒ³æ³•ï¼Œä½†ä¸ç¡®å®šæ˜¯å¦åˆé€‚ï¼Ÿ
A: åœ¨ GitHub Discussions æˆ– Issues æå‡ºæ¥è®¨è®ºï¼

### Q: ä»£ç è¢« AI å†™çš„ï¼Œæˆ‘çš„è´¡çŒ®è¿˜æœ‰æ„ä¹‰å—ï¼Ÿ
A: éå¸¸æœ‰æ„ä¹‰ï¼AI åªæ˜¯å·¥å…·ï¼Œè®¾è®¡å†³ç­–ã€ä»£ç  reviewã€æµ‹è¯•éªŒè¯éƒ½éœ€è¦äººç±»ã€‚

### Q: æˆ‘å¯ä»¥ç”¨è¿™ä¸ªé¡¹ç›®åšå•†ä¸šåŒ–å—ï¼Ÿ
A: é¡¹ç›®é‡‡ç”¨ MIT Licenseï¼Œå¯ä»¥è‡ªç”±ä½¿ç”¨ã€‚ä½†è¯·æ³¨æ„ LLM API çš„ä½¿ç”¨æ¡æ¬¾ã€‚

---

**æ„Ÿè°¢ä½ çš„è´¡çŒ®ï¼è®©æˆ‘ä»¬ä¸€èµ·æ„å»ºæœ‰è¶£çš„ AI ç¤¾ä¼šæ¨¡æ‹Ÿé¡¹ç›®ï¼** ğŸ‰
